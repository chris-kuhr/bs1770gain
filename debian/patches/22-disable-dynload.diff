Description: Disable dynamic loading and link directly to shared libraries
 No need to dynamically load libraries.
Author: Petter Reinholdtsen <pere@debian.org>
Forwarded: no
Last-Update: 2015-06-01

Index: bs1770gain-git/libffsox-2/ffsox_dynload.h
===================================================================
--- bs1770gain-git.orig/libffsox-2/ffsox_dynload.h	2015-06-01 21:27:30.332781415 +0000
+++ bs1770gain-git/libffsox-2/ffsox_dynload.h	2015-06-01 21:27:30.328781399 +0000
@@ -24,8 +24,9 @@
 #ifdef __cpluplus
 extern "C" {
 #endif
-
-#define FFSOX_DYNLOAD
+#ifdef ENABLE_DYNLOAD
+#  define FFSOX_DYNLOAD
+#endif
 #if defined (FFSOX_DYNLOAD) // {
 ///////////////////////////////////////////////////////////////////////////////
 typedef struct ffsox_avutil ffsox_avutil_t;
@@ -209,6 +210,8 @@
 #define sox_close (*ffsox_libsox.sox_close)
 #define sox_init_encodinginfo (*ffsox_libsox.sox_init_encodinginfo)
 #endif // }
+#else
+int ffsox_dynload(const char *dirname);
 #endif // }
 
 #ifdef __cpluplus
Index: bs1770gain-git/libffsox-2/ffsox_dynload.c
===================================================================
--- bs1770gain-git.orig/libffsox-2/ffsox_dynload.c	2015-06-01 21:25:25.000000000 +0000
+++ bs1770gain-git/libffsox-2/ffsox_dynload.c	2015-06-01 21:31:56.341835595 +0000
@@ -444,4 +444,9 @@
 exit:
   return code;
 }
+#else
+int ffsox_dynload(const char *dirname)
+{
+  return 0;
+}
 #endif // }
